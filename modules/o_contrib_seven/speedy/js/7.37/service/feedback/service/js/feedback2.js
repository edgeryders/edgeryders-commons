var $pageStatus=true;var $responseAPI="http://www.richlandlibrary.com/service/feedback/service/RCPLfbSubmit.php";var $responseHTML="";var $good="<h3>Thank you!</h3><p>Your feedback is very important to us. To submit additional feedback for a response please use our  '<a href=\"#\" onclick=\"goBox('http://RLTRAIN.richlandlibrary.com/polaris/custom/themes/richland_library/ask.htm'); return false;\">Ask a Librarian</a>' feature for direct assistance</p>";var $bad="<h3>We're sorry</h3> <p>We strive to make our websites as useful as possible. Please try our '<a href=\"#\" onclick=\"goBox('http://RLTRAIN.richlandlibrary.com/polaris/custom/themes/richland_library/ask.htm'); return false;\">Ask a Librarian</a>' feature for direct assistance.</p>";$(document).ready(function(){if($("#fbForm").length){initForm()}else{}});function initForm(){var $titleME=$("#fbForm").attr("t");var $formHTML=""+'<div id="rcpl_feedbackContainer">'+"<h2>"+$titleME+'</h2><input type="hidden" id="rcpl_feedbackBOL" value="NA" /> '+'<div id="rcpl_feedbackView">*</div>'+'<div id="rcpl_feedbackCheck"><a href="#" onclick="rcpl_feedbackBol(\'yes\'); return false;" id="fbCheckYes">Yes</a><a href="#" onclick="rcpl_feedbackBol(\'no\'); return false;" id="fbCheckNo">No</a></div>'+'<div id="rcpl_feedbackComment"><textarea id="rcpl_commentBox" placeholder="Anonymous Feedback"></textarea></div>'+'<div id="rcpl_feedbackContact"><input id="rcpl_contactBox" placeholder="Email or Phone Number" /><p>Please provide us with an Email or Phone Number if you would like us to contact you</p></div>'+'<div id="rcpl_feedbackSubmit2"><a href="#" onclick="rcpl_feedbackSubmit();return false;" id="fbSubmitBtn">Submit</a></div>'+'<div id="rcpl_feedbackStatus"><p>Processing...</p></div>'+'<div id="rcpl_feedbackResponse">*</div>'+"</div>";$("#fbForm").html($formHTML);$("#fbForm").css("display","block")}function rcpl_feedbackBol($bol){$("#rcpl_feedbackBOL").val($bol);if($bol=="no"){$responseHTML=$bad;$("#fbCheckYes").css("background-position","0px 0px");$("#fbCheckNo").css("background-position","0px -33px");$("#rcpl_feedbackView").css("background-position","0px -98px")}else{$responseHTML=$good;$("#fbCheckYes").css("background-position","0px -33px");$("#fbCheckNo").css("background-position","0px 0px");$("#rcpl_feedbackView").css("background-position","0px -196px")}}function rcpl_feedbackSubmit(){var $bol=$("#rcpl_feedbackBOL").val();if($bol!="NA"){if($pageStatus){setThinking();rlFeedBackSubmit();$pageStatus=false}else{alert("Currently processing last request...")}}else{alert("Please tell us if this page was helpful or not.")}}function rlFeedBackSubmit(){var $domain=window.location.host;var $path=window.location.pathname;var $query=window.location.search;var $bol=$("#rcpl_feedbackBOL").val();var $comment=$("#rcpl_commentBox").val();var $contact=$("#rcpl_contactBox").val();var $res=$("#rcpl_feedbackResponse");var $contain=$("#rcpl_feedbackContainer");$.ajax({type:"POST",url:$responseAPI,data:{key:"rcpl77487",bol:$bol,feedback:$comment,pageURL:$domain+""+$path+""+$query,contact:$contact},xhrFields:{withCredentials:false},headers:{},success:function(xml){$pageStatus=true;var e=$(xml).find("error").length;if(e>0){var $error=$(xml).find("error").text();$res.html("<h3>Oops!</h3><p>There was a problem sending your request: "+$error+"</p>")}else{var $msg=$(xml).find("success").attr("agent");$res.html($responseHTML)}$("#rcpl_feedbackStatus").css("display","none");$res.css("display","block")},error:function(error){alert("Oops! There was an error processing your feedback. [ "+error+"]")}})}function setThinking(){$("#fbForm").animate({height:"172px"});$("#rcpl_feedbackSubmit2").css("display","none");$("#rcpl_feedbackCheck").css("display","none");$("#rcpl_feedbackComment").css("display","none");$("#rcpl_feedbackContact").css("display","none");$("#fbForm").css("background-position","-99999px");$("#rcpl_feedbackStatus").css("display","block")}function setResponse(){}